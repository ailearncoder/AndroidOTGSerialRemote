# [English](/README.md)|中文
# Android USB OTG Serial Port Remote Access

## 项目简介

本项目是一个基于Android平台的应用程序，旨在通过USB OTG连接串口设备，并利用RFC2217服务实现串口的远程访问功能。该项目基于 [mik3y/usb-serial-for-android](https://github.com/mik3y/usb-serial-for-android) 库实现串口设备的访问，借助其强大的功能，为Android设备与串口设备之间的通信提供了便捷的解决方案。通过 `rfc2217://[设备IP]:2217` 即可访问连接到OTG上的支持的串口设备。这使得用户能够在不同的设备和网络环境下，便捷地对串口设备进行操作和管理，拓展了串口设备的应用场景和使用范围。

## 功能特点

- **USB OTG连接**：支持通过USB OTG接口连接各种串口设备，如工业传感器、智能仪表等，为Android设备与串口设备的通信搭建桥梁。
- **RFC2217服务**：遵循RFC2217协议标准，实现串口的远程访问功能。用户可以通过网络连接到该服务，对串口设备进行读写操作，突破了物理位置的限制。通过 `rfc2217://[设备IP]:2217` 即可访问连接到OTG上的支持的串口设备。
- **多设备支持**：兼容多种型号的串口设备，能够自动识别并连接设备，无需复杂的配置过程，提高了应用的通用性和易用性。
- **稳定可靠**：经过严格的测试和优化，确保在长时间运行和高并发访问的情况下，仍能保持稳定可靠的通信性能，保障数据的准确传输。

## 使用方法

1. **安装应用**：将本应用[AndroidOTGSerialRemote.apk](https://vip.123pan.cn/1812665715/files/AndroidOTGSerialRemote.apk)安装到支持USB OTG功能的Android设备上。
2. **连接串口设备**：使用USB OTG线缆将串口设备连接到Android设备的USB接口。
3. **启动应用**：打开应用，应用会自动检测并连接已连接的串口设备。
4. **配置RFC2217服务**：在应用中配置RFC2217服务的参数，如端口号、认证信息等，以满足不同网络环境下的访问需求。默认情况下，服务监听在 `0.0.0.0:2217` 端口。
5. **远程访问**：通过支持RFC2217协议的客户端软件（如PuTTY等），连接到 `rfc2217://[设备IP]:2217`，即可实现对串口设备的远程读写操作。

## 技术架构

### 前端

- **开发语言**：Java/Kotlin
- **框架**：Android SDK
- **串口通信库**：[mik3y/usb-serial-for-android](https://github.com/mik3y/usb-serial-for-android)
- **功能**：实现USB OTG设备的连接和通信功能，提供用户界面用于配置和管理RFC2217服务。

### 后端

- **RFC2217服务**：基于Python包 [esp_rfc2217_server](https://github.com/espressif/esptool/blob/master/esp_rfc2217_server.py) 实现
- **原理**：
  - **Python打包**：将Python代码打包为共享库（.so文件）。
  - **JNI调用**：通过Java Native Interface (JNI) 在Android应用中调用Python共享库，实现RFC2217服务的功能。
- **功能**：
  - **Socket编程**：监听指定端口（默认为2217），接收客户端的连接请求。
  - **RFC2217协议**：根据RFC2217协议规范对串口数据进行封装和转发，实现串口的远程访问功能。

### 通信流程

1. **设备连接**：用户通过USB OTG线缆将串口设备连接到Android设备。
2. **应用启动**：打开应用，应用自动检测并连接串口设备。
3. **服务启动**：应用启动RFC2217服务，监听 `0.0.0.0:2217` 端口。
4. **客户端连接**：用户通过支持RFC2217协议的客户端软件（如PuTTY）连接到 `rfc2217://[设备IP]:2217`。
5. **数据传输**：客户端通过RFC2217协议与服务端进行通信，服务端将数据转发到串口设备，实现远程读写操作。

## 项目贡献

欢迎各位开发者参与本项目的贡献，共同完善和优化应用的功能。您可以从以下几个方面入手：

- **代码优化**：对现有代码进行优化，提高应用的性能和稳定性。
- **功能扩展**：根据实际需求，添加新的功能模块，如支持更多的串口设备类型、增加数据加密功能等。
- **文档完善**：补充和完善项目的文档资料，包括开发文档、用户手册等，方便其他开发者和用户更好地理解和使用本项目。

## 联系方式

如果您在使用过程中遇到任何问题，或者有好的建议和想法，欢迎通过以下方式与我联系：

- **邮箱**：[panxuesen520@gmail.com](mailto:panxuesen520@gmail.com)
- **GitHub Issues**：在本项目的GitHub仓库中提交Issues，我会及时回复和处理。

希望本项目能够对您有所帮助，如果您觉得项目不错，也请不吝点赞和Star支持一下，谢谢！
